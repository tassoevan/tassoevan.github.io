"use strict";(self.webpackChunk_tassoevan_tassoevan_github_io=self.webpackChunk_tassoevan_tassoevan_github_io||[]).push([[577],{8951:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var n=a(8453),o=a(6540);function r(e){const t=Object.assign({p:"p",a:"a",em:"em",h1:"h1",h2:"h2",pre:"pre",code:"code",strong:"strong"},(0,n.R)(),e.components);return o.createElement(o.Fragment,null,o.createElement(t.p,null,'Em projetos PHP atuais, é praticamente impossível um desenvolvedor fazer tudo do zero. Sempre existe um framework, uma library (biblioteca de código) ou até uma "funçãozinha" que outros devs escreveram e que nós utilizamos para entregar tudo dentro de prazos.'),"\n",o.createElement(t.p,null,"Alguns exemplos? ",o.createElement(t.a,{href:"http://laravel.com/"},"Laravel"),", ",o.createElement(t.a,{href:"http://framework.zend.com/"},"Zend Framework"),", ",o.createElement(t.a,{href:"http://www.yiiframework.com/"},"Yii"),", ",o.createElement(t.a,{href:"https://symfony.com/"},"Symfony"),", ",o.createElement(t.a,{href:"http://climate.thephpleague.com/"},"Climate")," etc."),"\n",o.createElement(t.p,null,"Cada vez que utilizamos algo do tipo, estamos gerando uma ",o.createElement(t.em,null,"dependência")," no projeto. Para que a nossa aplicação funcione, todas as dependências devem ",o.createElement(t.em,null,"ser resolvidas"),", isto é, o código delas deve estar acessível."),"\n",o.createElement(t.h1,null,"O que é?"),"\n",o.createElement(t.p,null,"O ",o.createElement(t.a,{href:"https://getcomposer.org/"},"Composer")," é um ",o.createElement(t.em,null,"gerenciador de dependências")," escrito em e escrito para PHP. Através dele, todas as dependências de um projeto são baixadas da Internet automaticamente na forma de ",o.createElement(t.em,null,"pacotes")," e corretamente disponibilizadas num diretório. Inclusive com direito a autoloader."),"\n",o.createElement(t.h1,null,"Como instalar?"),"\n",o.createElement(t.p,null,"O Composer é disponibilizado como um arquivo PHAR (PHP archive) simples, mas para evitar múltiplas cópias dele espalhadas por aí, o ideal é instalá-lo globalmente."),"\n",o.createElement(t.h2,null,"Debian/Ubuntu/Linux Mint"),"\n",o.createElement(t.p,null,"Se a ferramenta de linha de comando do PHP não está instalada,"),"\n",o.createElement(t.pre,null,o.createElement(t.code,{className:"language-sh"},"$ sudo apt-get install php5-cli\n")),"\n",o.createElement(t.p,null,"Então instalar é fácil como digitar no terminal isto:"),"\n",o.createElement(t.pre,null,o.createElement(t.code,null,"$ php -r \"readfile('https://getcomposer.org/installer');\" | sudo php -- --install-dir=/usr/bin --filename=composer\n")),"\n",o.createElement(t.p,null,"Para mais detalhes, consulte: ",o.createElement(t.a,{href:"http://getcomposer.org/doc/00-intro.md#installation-nix"},"http://getcomposer.org/doc/00-intro.md#installation-nix")),"\n",o.createElement(t.h2,null,"Windows"),"\n",o.createElement(t.p,null,"Baixe e execute o ",o.createElement(t.a,{href:"https://getcomposer.org/Composer-Setup.exe"},"instalador oficial"),"."),"\n",o.createElement(t.p,null,"Para mais detalhes, consulte: ",o.createElement(t.a,{href:"http://getcomposer.org/doc/00-intro.md#installation-windows"},"http://getcomposer.org/doc/00-intro.md#installation-windows")),"\n",o.createElement(t.h1,null,"Como descrevar as dependências?"),"\n",o.createElement(t.p,null,"Para começar, você precisa descrever quais são as dependências do seu projeto em algum lugar. Isso é feito no arquivo ",o.createElement(t.code,null,"composer.json"),", que agora também deve fazer parte do seu código. Como a extensão sugere, ele deve ter um conteúdo JSON válido. Vamos começar com um arquivo simples:"),"\n",o.createElement(t.pre,null,o.createElement(t.code,{className:"language-json"},'{\n  "name": "minha-empresa/meu-projeto",\n  "description": "Meu primeiro projeto com Composer",\n  "license": "proprietary"\n}\n')),"\n",o.createElement(t.p,null,"Os itens ",o.createElement(t.code,null,"name")," e ",o.createElement(t.code,null,"description")," são obrigatórios e ",o.createElement(t.code,null,"license")," é recomendado. Você pode verificar se tudo está ok executando o comando:"),"\n",o.createElement(t.pre,null,o.createElement(t.code,{className:"language-sh"},"$ composer validate\n./composer.json is valid\n")),"\n",o.createElement(t.p,null,"Agora podemos adicionar algumas dependências."),"\n",o.createElement(t.pre,null,o.createElement(t.code,{className:"language-json"},'{\n  "name": "minha-empresa/meu-projeto",\n  "description": "Meu primeiro projeto com Composer",\n  "license": "proprietary",\n  "require": {\n    "yiisoft/yii2": "~2.0.0"\n  }\n}\n')),"\n",o.createElement(t.p,null,"Dentro da propriedade ",o.createElement(t.code,null,"require"),", eu defini que meu projeto tem como dependência o framework Yii."),"\n",o.createElement(t.p,null,o.createElement(t.strong,null,"Por que ele está descrito como ",o.createElement(t.code,null,"yiisoft/yii2"),"?")," Porque foi assim que a Yiisoft o registrou no ",o.createElement(t.a,{href:"https://packagist.org/packages/yiisoft/yii2"},"Packagist"),", o principal repositório de pacotes do Composer."),"\n",o.createElement(t.p,null,o.createElement(t.strong,null,"O que significa ",o.createElement(t.code,null,"~2.0.0"),"?")," Estamos especificando que queremos qualquer pacote cuja versão seja igual ou superior a 2.0.0 e inferior a 2.1.0. Existem várias ",o.createElement(t.a,{href:"https://getcomposer.org/doc/02-libraries.md#specifying-the-version"},"formas de descrever as versões")," que precisamos. As recomendações principais são (1) evitar as versões ",o.createElement(t.code,null,"dev-master"),", que são baseadas no último código escrito nos pacotes e, portanto, mutáveis; e (2) evitar a tentação de utilizar ",o.createElement(t.code,null,"*")," para ter sempre a última versão disponível. Existe uma diferença enorme, por exemplo, entre a versão 1.1 e a versão 2.0 do Yii. Atualizar dependências assim significa conviver com o fato de ter que mudar todo seu código quando uma delas for atualizada."),"\n",o.createElement(t.h1,null,"Enfim, como utilizar?"),"\n",o.createElement(t.p,null,"Com tudo isso feito, estamos a um mero passo de ter o Yii no nosso projeto:"),"\n",o.createElement(t.pre,null,o.createElement(t.code,{className:"language-sh"},"$ composer install\n")),"\n",o.createElement(t.p,null,"O Composer vai verificar os repositórios, como o Packagist; verificar se possuem os pacotes necessários; baixá-los; adicioná-los ao diretório ",o.createElement(t.code,null,"vendor")," do projeto; e criar um arquivo ",o.createElement(t.code,null,"composer.lock"),", que é uma versão superdetalhada do ",o.createElement(t.code,null,"composer.json"),", descrevendo até todas as subdepências (i.e., as dependências das dependências do projeto) e versões baixadas."),"\n",o.createElement(t.p,null,"Pronto."),"\n",o.createElement(t.p,null,"Para atualizar as dependências ou reinstalá-las, utilize:"),"\n",o.createElement(t.pre,null,o.createElement(t.code,{className:"language-sh"},"$ composer update\n")))}var l=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,n.R)(),e.components);return t?o.createElement(t,e,o.createElement(r,e)):r(e)},s=a(4387),i=a(6008),c=a(9031),m=a(4615);function u(e){let{pageContext:t,data:a,children:n}=e;const{frontmatter:{title:r,date:l},slug:u,next:d}=t,{excerpt:p,timeToRead:E}=a.mdx;return o.createElement(o.Fragment,null,o.createElement(s.A,{title:r,description:p}),o.createElement(i.A,null,o.createElement(c.A,null),o.createElement(m.A,{slug:u,title:r,date:new Date(Date.parse(l)),timeToRead:Math.ceil(E),next:d},n)))}function d(e){return o.createElement(u,e,o.createElement(l,e))}},9031:function(e,t,a){var n=a(6540),o=a(7581),r=a(8864),l=a(4017);const s=o.default.nav.withConfig({displayName:"NavBar__StyledNavBar",componentId:"sc-yc90xv-0"})(["h1{font-size:1em;font-weight:normal;margin:0;}"]);t.A=function(){const{title:e,description:t}=(0,r.Q)();return n.createElement(s,null,n.createElement("h1",null,n.createElement(l.A,{href:"/",title:t},e)))}},8453:function(e,t,a){a.d(t,{R:function(){return l}});var n=a(6540);const o={},r=n.createContext(o);function l(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}}}]);
//# sourceMappingURL=component---src-templates-post-tsx-content-file-path-posts-2015-06-06-como-instalar-e-usar-o-composer-mdx-02740d187796229a93a4.js.map